<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="bootstrap-template/layout/admin-basic">
<th:block layout:fragment="title">
    <title>회원 목록</title>
</th:block>

<th:block layout:fragment="main-content">

    <h1 class="h3 mb-2 text-gray-800">매니저 목록</h1>
    <div></div>
    <!-- DataTales Example -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">ManagerTable</h6>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                    <thead>
                    <tr>
                        <th>아이디</th>
                        <th>닉네임</th>
                        <th>가입일</th>
                        <th>만료여부</th>
                        <th>권한</th>
                    </tr>
                    </thead>
                    <tfoot>
                    <tr>
                        <th>아이디</th>
                        <th>닉네임</th>
                        <th>가입일</th>
                        <th>만료여부</th>
                        <th>권한</th>
                    </tr>
                    </tfoot>
                    <tbody>
                    <tr th:if="${not #lists.isEmpty( memberList )}" th:each="list : ${memberList}">
                        <td class="dropdown no-arrow">
                            <a class="dropdown-toggle" href="#" id="roleDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="text-dark" th:text="${list.id}"></span>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="roleDropdown">
                                <a class="dropdown-item" th:href=" '/admin/member/info?id=' + ${list.id}">
                                    <i class="bi bi-person-bounding-box mr-2 text-gray-400"></i>
                                    회원정보보기
                                </a>
                            </div>
                        </td>

                        <td th:text="${list.nickName}"></td>
                        <td th:text="${list.srbde}"></td>
                        <!-- 만료여부 -->
                        <td th:if="${list.isAccountNonExpired}">활성화계정</td>
                        <td th:if="!${list.isAccountNonExpired}">만료됨</td>
                        <!-- 권한 -->
                        <td th:if="${list.role} == 'ROLE_ADMIN'">관리자</td>
                        <td th:if="${list.role} == 'ROLE_MANAGER'">매니저</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>


</th:block>

<th:block layout:fragment="script">
    <!--
    <script th:inline="javascript">

    </script>
    -->
</th:block>


</html>